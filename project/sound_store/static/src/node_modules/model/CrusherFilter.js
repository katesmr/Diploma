//CrusherFilter

var inherit = require("../utils/inherit");
var BaseFilterModel = require("./BaseFilterModel");

module.exports = CrusherFilter;

function CrusherFilter(options){
    BaseFilterModel.call(this);
    this.options = options || {};
}

inherit(CrusherFilter, BaseFilterModel);

CrusherFilter.prototype.generate = function(){
    this.filterObject = new Tone.BitCrusher(this.options);
};

CrusherFilter.prototype.getBit = function(){
    return this.filterObject.dampening.value;
};

CrusherFilter.prototype.getOptions = function(){
    return this.options;
};

CrusherFilter.prototype.setBit = function(value){
    this.options.bit = value;
    this.filterObject.bit.value = value;
};

CrusherFilter.prototype.setOptions = function(options){
    this.setBit(options.bit);
};

CrusherFilter.prototype.setByName = function(optionName, value){
    switch(optionName){
        case "bit":
            this.setBit(value);
            break;
    }
};
