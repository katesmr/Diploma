var ObservableList = require("./ObservableList");
var inherit = require("../utils/inherit");
var TrackSynthesizer = require("./TrackSynthesizer");
var TrackNoise = require("./TrackNoise");

module.exports = TrackListModel;

function TrackListModel(){
    ObservableList.call(this);
    this.name = "";
}

inherit(TrackListModel, ObservableList);

TrackListModel.prototype.add = function(source){
    var track;
    var id = source.id;
    var data = source.data;
    var instrument = source.data.instrument;
    if(instrument === "synth"){
        track = new TrackSynthesizer(id, data);
    } else if(instrument === "noise"){
        track = new TrackNoise(id, data);
    } else{
        // DEFAULT_JSON_SETTINGS
    }

    if (track){
        ObservableList.prototype.add.call(this, track);
    }
};
