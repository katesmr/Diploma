var FilterModel = require("./FilterModel");
var inherit = require("../utils/inherit");

module.exports = VibratoFilter;

function VibratoFilter(options){
    this.frequency = options.frequency || 5;
    this.depth = options.depth || 0.1;
    this.type = options.type || "sine";
}

inherit(VibratoFilter, FilterModel);

VibratoFilter.prototype.applyToTrack = function(track){
    this.filterObject.toMaster();
    track.connect(this.filterObject);
};

VibratoFilter.prototype.generate = function(){
    if(this.isUsed === true){
        this.filterObject = new Tone.Vibrato({"frequency": this.frequency, "type": this.type, "depth": this.depth});
    }
};
