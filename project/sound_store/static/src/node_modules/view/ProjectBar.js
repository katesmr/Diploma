var inherit = require("../utils/inherit");
var Factory = require("./Factory");
var BaseView = require("./BaseView");
var eventListener = require("../model/eventListener");

module.exports = ProjectBar;

function ProjectBar(){
    BaseView.call(this, "projectbar");

    this.showProjectListButton = Factory.createIconButton("ui button user-only", "book icon", "");
    this.addProjectButton = Factory.createIconButton("ui button", "plus icon", "");
    this.editProjectButton = Factory.createIconButton("ui button user-only", "disabled edit icon", "");
    this.deleteProjectButton = Factory.createIconButton("ui button user-only", "disabled trash icon", "");

    this._build();
}

inherit(ProjectBar, BaseView);

ProjectBar.prototype._build = function(){
    var container = this.getContainer();

    this.showProjectListButton.on("click", function(_){
        // Possible additional visual effect for this button...
        eventListener.notify(eventListener.ON_SHOW_PROJECT_LIST);
    });
    this.addProjectButton.on("click", function(_){
        //
        eventListener.notify(eventListener.ON_ADD_PROJECT, null);
    });
    this.editProjectButton.on("click", function(_){
        eventListener.notify(eventListener.ON_EDIT_PROJECT);
    });
    this.deleteProjectButton.on("click", function(_){
        eventListener.notify(eventListener.ON_DELETE_PROJECT);
    });

    container.append(this.addProjectButton);
    container.append(this.editProjectButton);
    container.append(this.deleteProjectButton);
    container.append(this.showProjectListButton);
};
