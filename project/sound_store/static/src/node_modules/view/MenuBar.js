var BaseView = require("./BaseView");
var UserInfoBar = require("./UserInfoBar");
var ProjectBar = require("./ProjectBar");
var inherit = require("../utils/inherit");
var eventListener = require("../model/eventListener");

module.exports = MenuBar;

function MenuBar(){
    BaseView.call(this, "menubar");

    this.userInfoBar = new UserInfoBar();
    this.projectBar = new ProjectBar();

    this._build();
}

inherit(MenuBar, BaseView);

MenuBar.prototype._build = function(){
    var container = this.getContainer();

    eventListener.notify(eventListener.DEFINE_USER);

    container.append(this.userInfoBar.getContainer());
    container.append(this.projectBar.getContainer());
};

MenuBar.prototype.adaptToActiveWindow = function(window){
    // Here you can get some public properties from the window to update the "look" of the menu bar
    // For example:
    // - window.title
    // - change some controlls according to the window type
};
