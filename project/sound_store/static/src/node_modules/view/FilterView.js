var inherit = require("../utils/inherit");
var TabSegment = require("./TabSegment");
var Factory = require("./Factory");

module.exports = FilterView;

function FilterView(track){
    TabSegment.call(this, "instrument-view");

    this.track = track;
    this.block = $("<div class='button-block'>");
    this.listButtonName = ["synth", "noise", "oscillator"]; // must be correspond to instrument in ToneJS

    this._build();
    this.show();
}

inherit(FilterView, TabSegment);

FilterView.prototype._build = function(){
    var container = this.getContainer();
    var $button;
    var i;

    for(i = 0; i < this.listButtonName.length; ++i){
        $button = Factory.createButton('', this.listButtonName[i]);
        $button.on("click", function(event){
            this.track.instrument = this.val();
        });
        this.block.append($button);
    }

    container.append(this.block);
};

FilterView.prototype.setTrack = function(track){
    this.track = track;
};
