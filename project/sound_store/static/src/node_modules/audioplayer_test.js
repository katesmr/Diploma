var AudioPlayer = require("AudioPlayer");

module.exports = function(result){
    if(result instanceof Error){
        console.error(result);
    } else{
        var audioPlayer = new AudioPlayer(result);
        audioPlayer.play("C5");
    }
    //audioPlayer.save("save");
    /*var i;
    var track;
    var envelope;
    var oscillator;
    var audioGenerator;
	var track_list = [];
	for(i = 0; i < tracks.length; ++i){
	    oscillator = tracks[i]["oscillator"];
	    envelope = tracks[i]["envelope"];
	    track = new Track(oscillator, envelope);
	    console.log("track");
	    console.log(track);
        audioGenerator = new AudioGenerator(track);
	    track_list[i] = audioGenerator.generateSynth("C4");
	}

    var next;
    var buffer1;
    var buffer2;
    var currentTrack = track_list[0];
    var context = currentTrack._context;
    buffer1 = Helper.getAudioContextBuffer(currentTrack._context);
	for(i = 0; i < track_list.length; ++i){
	    next = i + 1;
	    if(next !== track_list.length){
            buffer2 = Helper.getAudioContextBuffer(track_list[next]._context);
            currentTrack = TrackManager.merge(context, buffer1, buffer2);
            buffer1 = currentTrack;  // put new audiobuffer was created from past track
        }
	}
	console.log("-------");
	console.log(currentTrack);*/
};
